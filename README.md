# notebook-bot
Простой Telegram-бот для заметок, погоды, курсов криптовалют и хранения сообщений.

## Функции бота
- `/start` — приветствие
- `/weather` — погода в нескольких городах
- `/eth` — курс Ethereum
- `/myage` — заполнение анкеты (FSM)
- `/last` — последние 5 сообщений

## Технологии
- **aiogram 3.x** — асинхронный фреймворк для Telegram
- **FastAPI** — веб-сервер для приёма вебхуков
- **SQLite** — локальная БД
- **Poetry** — менеджер зависимостей
- **Docker + docker-compose** — контейнеризация
- **Tuna** — проброс локального сервера в интернет

## Переменные окружения
Создайте файл `.env` на основе `.env.example`:


Запуск сборки докера:
docker-compose up --build



## Настройка

1. Создайте `.env`:
  bash cp .env.example .env

2. Установите зависимости (опционально, если не используете Docker):
  bash poetry install

3. Создайте папку для данных:

## Запуск через Docker
   bash docker-compose up --build


После запуска:
- Бот начнёт работу.
- Tuna создаст публичный URL.
- Все данные БД будут сохраняться в `./data/db/tg_data.db`.



## Примечания
- Для работы с Tuna не обязателен токен — используется `--all`.
- Если вы видите ошибку подключения к Docker, убедитесь, что **Docker Desktop запущен**.
- Порт бота: `8080` (внутри контейнера).
- Для продакшена рассмотрите использование `Redis`, `PostgreSQL`, `HTTPS` и `nginx`.
