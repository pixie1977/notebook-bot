import logging

import httpx

# ะะฐัััะพะนะบะฐ ะปะพะณะธัะพะฒะฐะฝะธั
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

def interpret_weather_code(code: int) -> str:
    code = int(code)
    mapping = {
        0: "โ๏ธ ะฏัะฝะพ",
        1: "๐ค ะ ะพัะฝะพะฒะฝะพะผ ััะฝะพ",
        2: "โ ะะตัะตะผะตะฝะฝะฐั ะพะฑะปะฐัะฝะพััั",
        3: "โ๏ธ ะะฐัะผััะฝะพ",
        45: "๐ซ ะขัะผะฐะฝ",
        48: "๐ซ๏ธ ะขัะผะฐะฝ, ะธะฝะตะน",
        51: "๐ง ะัะณะบะฐั ะผะพัะพัั",
        53: "๐ง ะฃะผะตัะตะฝะฝะฐั ะผะพัะพัั",
        55: "๐ง ะกะธะปัะฝะฐั ะผะพัะพัั",
        61: "๐ฆ ะัะณะบะธะน ะดะพะถะดั",
        63: "๐ง ะฃะผะตัะตะฝะฝัะน ะดะพะถะดั",
        65: "๐ง ะกะธะปัะฝัะน ะดะพะถะดั",
        71: "๐จ ะัะณะบะธะน ัะฝะตะณ",
        73: "๐จ ะฃะผะตัะตะฝะฝัะน ัะฝะตะณ",
        75: "๐จ ะกะธะปัะฝัะน ัะฝะตะณ",
        77: "๐จ ะกะฝะตะถะฝัะต ะทััะฝะฐ",
        80: "โ ะัะณะบะธะต ะปะธะฒะฝะธ",
        81: "โ ะฃะผะตัะตะฝะฝัะต ะปะธะฒะฝะธ",
        82: "โ ะกะธะปัะฝัะต ะปะธะฒะฝะธ",
        85: "๐จ ะัะณะบะธะน ัะฝะตะถะฝัะน ะปะธะฒะตะฝั",
        86: "๐จ ะกะธะปัะฝัะน ัะฝะตะถะฝัะน ะปะธะฒะตะฝั",
        95: "๐ฉ ะัะพะทะฐ",
        96: "โ ะัะพะทะฐ ั ะปัะณะบะธะผ ะณัะฐะดะพะผ",
        99: "โ ะัะพะทะฐ ั ัะธะปัะฝัะผ ะณัะฐะดะพะผ",
    }
    return mapping.get(code, f"โ ะะตะธะทะฒะตััะฝัะน ะบะพะด: {code}")

async def fetch_json(client: httpx.AsyncClient, url: str, name: str):
    try:
        response = await client.get(url)
        response.raise_for_status()
        return name, response.json()
    except Exception as e:
        logger.error(f"Error fetching {url}: {e}")
        return name, None